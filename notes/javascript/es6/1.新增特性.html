<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6新增特性 | 大田</title>
    <meta name="description" content="Vite & Vue powered static site generator.">
    <link rel="stylesheet" href="/assets/style.1dea14ef.css">
    <link rel="modulepreload" href="/assets/app.b7c8ca52.js">
    <link rel="modulepreload" href="/assets/notes_javascript_es6_1.新增特性.md.d0c66927.lean.js">
    
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-f44a984a><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav no-sidebar" data-v-f44a984a data-v-a50780ff><div class="VPNavBar" data-v-a50780ff data-v-6f1d18b5><div class="container" data-v-6f1d18b5><div class="VPNavBarTitle" data-v-6f1d18b5 data-v-d5925166><a class="title" href="/" data-v-d5925166><!--[--><!--]--><!--[--><img class="VPImage logo" src="/img/dog.svg" alt data-v-b7ac6bd3><!--]--><!--[-->大田<!--]--><!--[--><!--]--></a></div><div class="content" data-v-6f1d18b5><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6f1d18b5 data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/plans/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->Plan<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/notes/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->Note<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6f1d18b5 data-v-a3e7452b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-a3e7452b data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6f1d18b5 data-v-e4361c82 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><!----><div class="group" data-v-e4361c82><div class="item appearance" data-v-e4361c82><p class="label" data-v-e4361c82>Appearance</p><div class="appearance-action" data-v-e4361c82><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-e4361c82 data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6f1d18b5 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-f44a984a data-v-d981fe29><div class="VPDoc has-aside" data-v-d981fe29 data-v-cfb513e0><div class="container" data-v-cfb513e0><div class="aside" data-v-cfb513e0><div class="aside-curtain" data-v-cfb513e0></div><div class="aside-container" data-v-cfb513e0><div class="aside-content" data-v-cfb513e0><div class="VPDocAside" data-v-cfb513e0 data-v-afc4c1a1><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-afc4c1a1 data-v-2865c0b0><div class="content" data-v-2865c0b0><div class="outline-marker" data-v-2865c0b0></div><div class="outline-title" data-v-2865c0b0>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-2865c0b0><span class="visually-hidden" id="doc-outline-aria-label" data-v-2865c0b0> Table of Contents for current page </span><ul class="root" data-v-2865c0b0 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-afc4c1a1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-cfb513e0><div class="content-container" data-v-cfb513e0><!--[--><!--]--><main class="main" data-v-cfb513e0><div style="position:relative;" class="vp-doc _notes_javascript_es6_1_%E6%96%B0%E5%A2%9E%E7%89%B9%E6%80%A7" data-v-cfb513e0><div><h1 id="es6新增特性" tabindex="-1">ES6新增特性 <a class="header-anchor" href="#es6新增特性" aria-hidden="true">#</a></h1><h2 id="历史" tabindex="-1">历史 <a class="header-anchor" href="#历史" aria-hidden="true">#</a></h2><p><strong>浏览器经历阶段：</strong></p><ul><li>1991- 1997: <code>HTML1</code>/<code>HTML2</code>/<code>HTML3</code>/<code>IETF(The Internet Engineering Task Force)</code>国际互联网工程任务组</li><li>1997: <code>HTML3.2 W3C</code></li></ul><p><strong><code>ECMA-262 Ecmascript</code> 脚本语言规范：</strong></p><ul><li>1995 <code>LiveScript JavaScript</code></li><li>1996 <code>JavaScript 1.0/1.1</code></li><li>1997 <code>Jscript</code></li><li>1997.6 <code>ECMAScript 1.0</code></li><li>1998.6 <code>ECMAScript 2.0 </code></li><li>1999.12 <code>ECMAScript 3.0 </code></li><li>2000 <code>ECMAScript 4.0</code>草案(未通过) <code>TC39(technical committe 39)</code>成员反对</li><li>2007 <code>ECMAScript 4.0</code>准备发布 但没发布</li><li>2008.7 <code>ECMAScript 3.1</code>过渡到<code>5.0</code> , 大会项目代号(<code>hamony</code>) <code>JavaScript.next</code> / <code>JavaScript.next.next</code></li><li>2009.12 <ul><li><code>ECMAScript 5.0</code> 正式发布</li><li><code>JavaScript.next</code>(放入草案) <code>ES6</code></li><li><code>JavaScript.next.next</code>(放入草案) <code>ES7</code></li></ul></li><li>2011.6 <code>ECMAScript 5.1</code></li><li>2013.3 <code>JavaScript.next</code>(草案冻结)</li><li>2013.6 <code>JavaScript.next</code>(草案发布)</li><li>2015.6 <code>ECMAScript 6.0</code>正式发布, 从此每年6月出一个新的小版本</li><li><code>ECMAScript2016</code></li><li><code>ECMAScript2017</code></li><li><code>ECMAScript2018</code></li><li><code>ECMAScript2019</code></li><li><code>ECMAScript2020</code></li></ul><h2 id="let" tabindex="-1">let <a class="header-anchor" href="#let" aria-hidden="true">#</a></h2><p>作用域 <code>[[scope]]</code> 存储 <code>AO/ GO</code></p><p><strong><code>var</code>的问题：</strong></p><ul><li>变量提升 <code>undefined</code></li><li>重复声明会有变量污染</li></ul><p><strong><code>ES5</code>解决方案:</strong></p><ul><li>立即执行函数</li><li>但定义函数内部仍会存在变量污染的问题</li></ul><p><strong>kiss原则</strong></p><p><code>keep it simple</code> 保持简单/傻瓜，通过函数提纯，让功能单一，解决变量污染问题</p><p><em><strong>如何解决变量污染问题？</strong></em></p><p><code>let</code>语法 块级作用域</p><p><strong>常见的块级作用域：</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">if(1){}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">for(){}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><blockquote><p><strong>关于暂时性死区：</strong></p><p><code>TDZ(Temporal Dead Zone)</code></p></blockquote><p><strong>let特点：</strong></p><ul><li>同一作用域下，<code>let</code>不允许重复声明</li><li><code>let</code>不会声明提升，会产生一个暂时性死区</li><li><code>let</code>只能再当前的块级作用域下生效</li></ul><p><code>let</code>本质：为了<code>JS</code>增加一个块级作用域</p><p><strong>块级作用域：</strong> 是没有返回值的</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//let不允许重复声明</span></span>
<span class="line"><span style="color:#A6ACCD;">function test(){</span></span>
<span class="line"><span style="color:#A6ACCD;">  let a = 1;</span></span>
<span class="line"><span style="color:#A6ACCD;">  var a = 1;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">test();</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//报错: SyntaxError: Identifier &#39;a&#39; has already been declared</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//预编译的情况下已经声明a了</span></span>
<span class="line"><span style="color:#A6ACCD;">function test(a){</span></span>
<span class="line"><span style="color:#A6ACCD;">  let a = 10;</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">test();</span></span>
<span class="line"><span style="color:#A6ACCD;">//报错: SyntaxError: Identifier &#39;a&#39; has already been declared</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">function test(a){</span></span>
<span class="line"><span style="color:#A6ACCD;">  {</span></span>
<span class="line"><span style="color:#A6ACCD;">    let a = 10;</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">test();</span></span>
<span class="line"><span style="color:#A6ACCD;">//undefined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">function test(a){</span></span>
<span class="line"><span style="color:#A6ACCD;">  {</span></span>
<span class="line"><span style="color:#A6ACCD;">    let a = 10;</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">  } </span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">test();</span></span>
<span class="line"><span style="color:#A6ACCD;">//10</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//let不会声明提升，会产生一个暂时性死区</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">let a = 10;</span></span>
<span class="line"><span style="color:#A6ACCD;">//ReferenceError: a is not defined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">function test(){</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">  let a = 10;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">test();</span></span>
<span class="line"><span style="color:#A6ACCD;">//ReferenceError: a is not defined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>问题1：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">var a = a;</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">//undefined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">var b = b;</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(b);</span></span>
<span class="line"><span style="color:#A6ACCD;">//ReferenceError: b is not defined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>经典问题2：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//ES6语法 形参默认值</span></span>
<span class="line"><span style="color:#A6ACCD;">//暂时性死区导致的问题</span></span>
<span class="line"><span style="color:#A6ACCD;">//先将y赋值给x, 但y未被定义, y是在赋值之后被定义的</span></span>
<span class="line"><span style="color:#A6ACCD;">function test(x = y, y = 2){</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(x, y); //报错y is not defined  2</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">test();</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><em><strong>如何更改才能执行？</strong></em></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//先赋值再引用值</span></span>
<span class="line"><span style="color:#A6ACCD;">function test(x = 2, y = x){</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(x, y); //2  2</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">test();</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>let</code>引起的暂时性死区使<code>typeof</code>结果也更改了</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">console.log(typeof a); //undefined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">console.log(typeof a); </span></span>
<span class="line"><span style="color:#A6ACCD;">let a;</span></span>
<span class="line"><span style="color:#A6ACCD;">//ReferenceError: a is not defined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>特点3示例：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//let只能再当前的块级作用域下生效</span></span>
<span class="line"><span style="color:#A6ACCD;">//不在同一作用域下的情况不生效</span></span>
<span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;"> let a =2;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">//ReferenceError: a is not defined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">function test(){</span></span>
<span class="line"><span style="color:#A6ACCD;">  let a = 2;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">test();</span></span>
<span class="line"><span style="color:#A6ACCD;">//ReferenceError: a is not defined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">if(1){</span></span>
<span class="line"><span style="color:#A6ACCD;">  let a = 2;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">//ReferenceError: a is not defined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//永远死循环，永远不执行代码，但不报错</span></span>
<span class="line"><span style="color:#A6ACCD;">for(;1;){</span></span>
<span class="line"><span style="color:#A6ACCD;">  let a = 1;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//死循环结束，执行代码，报错</span></span>
<span class="line"><span style="color:#A6ACCD;">for(;1;){</span></span>
<span class="line"><span style="color:#A6ACCD;">  let a = 1;</span></span>
<span class="line"><span style="color:#A6ACCD;">  break;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">//ReferenceError: a is not defined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>关于<code>for</code>循环的坑：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//i无法提升，外部无法访问</span></span>
<span class="line"><span style="color:#A6ACCD;">for(let i = 0; i &lt; 10; i++){}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(i);</span></span>
<span class="line"><span style="color:#A6ACCD;">//ReferenceError: i is not defined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><em><strong>为什么打印0-9 而不是 10个10？</strong></em></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">var arr = [];</span></span>
<span class="line"><span style="color:#A6ACCD;">for(var i = 0; i &lt; 10; i++){</span></span>
<span class="line"><span style="color:#A6ACCD;">  arr[i] = function(){</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(i);</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">//这里循环完但未执行 i = 10</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//但这里又开始循环重复赋值i 所以又开始0-9的执行</span></span>
<span class="line"><span style="color:#A6ACCD;">for(var i = 0; i &lt; 10; i++){</span></span>
<span class="line"><span style="color:#A6ACCD;">  arr[i]();</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><em><strong><code>for</code>循环里面的两个块级作用域会不会存在冲突？</strong></em></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//这里存在两个块级作用域</span></span>
<span class="line"><span style="color:#A6ACCD;">for(var i = 0; i &lt; 10; i++){</span></span>
<span class="line"><span style="color:#A6ACCD;">  i = &#39;a&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(i);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">//a</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">分析：</span></span>
<span class="line"><span style="color:#A6ACCD;">var i = 0</span></span>
<span class="line"><span style="color:#A6ACCD;">for(; i &lt; 10; ){</span></span>
<span class="line"><span style="color:#A6ACCD;">  i = &#39;a&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(i);</span></span>
<span class="line"><span style="color:#A6ACCD;">  i++</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">//1. i = 0</span></span>
<span class="line"><span style="color:#A6ACCD;">//2. 进入循环 被赋值为a i++</span></span>
<span class="line"><span style="color:#A6ACCD;">//3. &#39;a&#39; + 1 = &#39;a1&#39; 变为 NaN</span></span>
<span class="line"><span style="color:#A6ACCD;">//4. NaN &lt; 10 ? false 不进循环 所以只打印一次 a</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//这里i仍处于同一作用域下</span></span>
<span class="line"><span style="color:#A6ACCD;">for(let i = 0; i &lt; 10; i++){</span></span>
<span class="line"><span style="color:#A6ACCD;">  i = &#39;a&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(i);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">//a</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//说明let和var不在同一作用域下</span></span>
<span class="line"><span style="color:#A6ACCD;">for(let i = 0; i &lt; 10; i++){</span></span>
<span class="line"><span style="color:#A6ACCD;">  var i = &#39;a&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(i);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">//SyntaxError: Identifier &#39;a&#39; has already been declared</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//不在同一作用域下的不影响let的声明</span></span>
<span class="line"><span style="color:#A6ACCD;">for(let i = 0; i &lt; 10; i++){</span></span>
<span class="line"><span style="color:#A6ACCD;">  let i = &#39;a&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(i);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">//10 个 a</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>以上例子说明<code>for</code>循环里面是父级作用域，像以下情况</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">if(1){</span></span>
<span class="line"><span style="color:#A6ACCD;">  let a = 1;</span></span>
<span class="line"><span style="color:#A6ACCD;">  {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">//1</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//不同作用域下let不影响</span></span>
<span class="line"><span style="color:#A6ACCD;">if(1){</span></span>
<span class="line"><span style="color:#A6ACCD;">  let a = 1;</span></span>
<span class="line"><span style="color:#A6ACCD;">  {</span></span>
<span class="line"><span style="color:#A6ACCD;">    let a = 10;</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">//1</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//不限嵌套次数</span></span>
<span class="line"><span style="color:#A6ACCD;">{{{{{}}}}}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>在<code>ES5</code>中<code>{}</code>嵌套的函数是不合法但可以解析的，在<code>ES6</code>中就允许了</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  function test(){}</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">if(i){</span></span>
<span class="line"><span style="color:#A6ACCD;">  function test(){}</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">try{</span></span>
<span class="line"><span style="color:#A6ACCD;">  function test(){}</span></span>
<span class="line"><span style="color:#A6ACCD;">}catch(e){</span></span>
<span class="line"><span style="color:#A6ACCD;">  function test1(){}</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>上述写法并不推荐，但可以用函数表达式替代声明</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">try{</span></span>
<span class="line"><span style="color:#A6ACCD;">  var test = function(){}</span></span>
<span class="line"><span style="color:#A6ACCD;">}catch(e){</span></span>
<span class="line"><span style="color:#A6ACCD;">  var test2 = function(){}</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//块级作用域：是没有返回值的</span></span>
<span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  return </span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>块级作用域等于匿名函数的调用吗？ 不等于</p><h2 id="const" tabindex="-1">const <a class="header-anchor" href="#const" aria-hidden="true">#</a></h2><p>定义常量，不可变的量，不期望变量被更改</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">const test = require(&#39;http&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong><code>const</code>特点：</strong></p><ul><li>定义的常量必要要赋值</li><li>一旦定义必须赋值，值不能被更改、</li><li>有块级作用域，存在暂时性死区</li><li>常量不能重复声明</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//定义的常量必要要赋值</span></span>
<span class="line"><span style="color:#A6ACCD;">const a;</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">//Uncaught SyntaxError: Missing initializer in const declaration</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//存在暂时性死区</span></span>
<span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  const a = 12;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">//Uncaught ReferenceError: a is not defined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//存在暂时性死区，且不能变量提升</span></span>
<span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">  const a = 12;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//Uncaught ReferenceError: a is not defined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//const不能重复声明</span></span>
<span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  const a = 12;</span></span>
<span class="line"><span style="color:#A6ACCD;">  let a = 10;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">//Uncaught SyntaxError: Identifier &#39;a&#39; has already been declared</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>const </code>的值是引用值情况，栈能保证不变，堆不能保证</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//说明const只保证指针地址没错，但不保证地址里数据内容不被更改</span></span>
<span class="line"><span style="color:#A6ACCD;">const obj = {};</span></span>
<span class="line"><span style="color:#A6ACCD;">obj.name = &#39;zhangsan&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(obj);</span></span>
<span class="line"><span style="color:#A6ACCD;">//{name: &quot;zhangsan&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>可以通过<code>Object.freeze()</code>方法冻结<code>const</code>声明的引用值，使之不能更改引用值数据</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">const obj = {};</span></span>
<span class="line"><span style="color:#A6ACCD;">Object.freeze(obj);</span></span>
<span class="line"><span style="color:#A6ACCD;">obj.name = &#39;zhangsan&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(obj);</span></span>
<span class="line"><span style="color:#A6ACCD;">//{name: &quot;zhangsan&quot;} freeze()之后=&gt; {}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>进一步封装冻结函数</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">function myFreeze(obj) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  Object.freeze(obj);</span></span>
<span class="line"><span style="color:#A6ACCD;">  //深度递归对象里面的对象</span></span>
<span class="line"><span style="color:#A6ACCD;">  for (var key in obj) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    //该对象的值为object且不能是null</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (typeof (obj[key] === &#39;object&#39;) &amp;&amp; obj[key] !== null) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      Object.freeze(obj[key]);</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">var person = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  son: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    lisi: &#39;18&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    zhangsan: &#39;19&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;">  car: [&#39;benz&#39;, &#39;mazda&#39;, &#39;bmw&#39;]</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">myFreeze(person);</span></span>
<span class="line"><span style="color:#A6ACCD;">person.son.wangwu = &#39;20&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">person.car[3] = &#39;toyota&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(person);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * 没注释myFreeze(person);</span></span>
<span class="line"><span style="color:#A6ACCD;"> * 打印：</span></span>
<span class="line"><span style="color:#A6ACCD;"> * {son: {…}, car: Array(4)}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   car: (4) [&quot;benz&quot;, &quot;mazda&quot;, &quot;bmw&quot;, &quot;toyota&quot;]</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   son: {lisi: &quot;18&quot;, zhangsan: &quot;19&quot;, wangwu: &quot;20&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   __proto__: Object</span></span>
<span class="line"><span style="color:#A6ACCD;"> * </span></span>
<span class="line"><span style="color:#A6ACCD;"> * 注释myFreeze(person);</span></span>
<span class="line"><span style="color:#A6ACCD;"> * 打印：</span></span>
<span class="line"><span style="color:#A6ACCD;"> * {son: {…}, car: Array(3)}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   car: (3) [&quot;benz&quot;, &quot;mazda&quot;, &quot;bmw&quot;]</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   son: {lisi: &quot;18&quot;, zhangsan: &quot;19&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   __proto__: Object</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>不用<code>Object.freeze()</code>冻结的情况：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//这里require返回的是实例化对象被常量const接收</span></span>
<span class="line"><span style="color:#A6ACCD;">//这种引入库的写法从源头上已经不能更改该对象的内容(因为是实例化对象)</span></span>
<span class="line"><span style="color:#A6ACCD;">const http = require(&#39;http&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><blockquote><p><strong>内容补充1：</strong></p><p>顶层对象指<code>window</code>，顶层对象的属性</p></blockquote><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//早期的JavaScript写法存在问题但也能解析</span></span>
<span class="line"><span style="color:#A6ACCD;">//存在不容易发现错误</span></span>
<span class="line"><span style="color:#A6ACCD;">a = 1;</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a); //undefined window</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//ES6为了改变，保持兼容性 允许var 不允许let const</span></span>
<span class="line"><span style="color:#A6ACCD;">//所以建议用let或const写</span></span>
<span class="line"><span style="color:#A6ACCD;">let a = 1;</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a); </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><blockquote><p><strong>内容补充2：</strong></p><p>专业术语：<code>falsy </code>假的值(虚值) 通过<code>boolean</code>转化为<code>false</code>的值</p></blockquote><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">function foo(x, y) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  x = x || 1;</span></span>
<span class="line"><span style="color:#A6ACCD;">  y = y || 2;</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(x + y);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">foo(); //1+2=3</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(5, 6); //5+6=11</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(5); //5+2=7</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(null, 6); //null -&gt; false 1+6=7</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(0, 5); //0 -&gt; false 1+5=6</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>ES5</code>形参为默认值写法</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">function foo(x, y) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  var x = typeof (arguments[0]) !== &#39;undefined&#39; ? arguments[0] : 1;</span></span>
<span class="line"><span style="color:#A6ACCD;">  var y = typeof (arguments[1]) !== &#39;undefined&#39; ? arguments[1] : 2;</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(x + y);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(); //3</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(5, 6); //11</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(5); //7</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(null, 6); //7</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(0, 5); //5</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>ES6</code>形参为默认值写法</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">function foo(x = 1, y = 2) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(x + y);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(); //3</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(5, 6); //11</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(5); //7</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(null, 6); //7</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(0, 5); //5</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>情况1：形参默认值会影响函数内声明造成重复声明报错</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">function foo(x = 2) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  let x = 2;</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(x);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(10);</span></span>
<span class="line"><span style="color:#A6ACCD;">//Uncaught SyntaxError: Identifier &#39;x&#39; has already been declared</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>特殊情况：里层声明时拿不到父级作用域的变量会报错</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//如果不声明里层是可以拿到父级作用域的变量的</span></span>
<span class="line"><span style="color:#A6ACCD;">var x = 1;</span></span>
<span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(x);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">//1</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//里层一旦let声明，就会形成块级作用域，将无法访问父级作用域</span></span>
<span class="line"><span style="color:#A6ACCD;">var x = 1;</span></span>
<span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  let x = x;</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(x);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">//Uncaught ReferenceError: Cannot access &#39;x&#39; before initialization</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//这里()里会形成单独的作用域</span></span>
<span class="line"><span style="color:#A6ACCD;">//这里的写法类似上面第一个的写法情况</span></span>
<span class="line"><span style="color:#A6ACCD;">//里层声明时拿不到父级作用域的变量会报错</span></span>
<span class="line"><span style="color:#A6ACCD;">function foo(x = x) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(x);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">foo();</span></span>
<span class="line"><span style="color:#A6ACCD;">//Uncaught ReferenceError: Cannot access &#39;x&#39; before initialization</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//这里()里的z=z+1 约等于 let z = z + 1,所以拿不到父级作用域,所以z没有定义</span></span>
<span class="line"><span style="color:#A6ACCD;">function foo(x = w + 1, y = x + 1, z = z + 1) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(x, y, z);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">foo();</span></span>
<span class="line"><span style="color:#A6ACCD;">//Uncaught ReferenceError: Cannot access &#39;z&#39; before initialization</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>惰性求值：当函数的参数为表达式的时候，会重新计算表达式的值</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//优先访问里层作用域里存在的变量的值</span></span>
<span class="line"><span style="color:#A6ACCD;">let a = 99;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">function foo(b = a + 1) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(b);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">foo(); //100</span></span>
<span class="line"><span style="color:#A6ACCD;">a = 100;</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(); //101</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="解构赋值" tabindex="-1">解构赋值 <a class="header-anchor" href="#解构赋值" aria-hidden="true">#</a></h2><p>解构赋值依然是一个赋值的过程</p><p>模式匹配(结构化赋值)</p><p><strong>数组解构</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//数组的模式匹配</span></span>
<span class="line"><span style="color:#A6ACCD;">let [a, b, c] = [1, 2, 3];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a, b, c); //1 2 3</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">let [d, [e, [f]]] = [1, [2, [3]]];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(d, e, f); //1 2 3</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//解构失败</span></span>
<span class="line"><span style="color:#A6ACCD;">//变量多，值少的情况以undefined填充</span></span>
<span class="line"><span style="color:#A6ACCD;">let [a, [b, [c]]] = [, [2, [3]]];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a, b, c);//undefined 2 3</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//不完全解构</span></span>
<span class="line"><span style="color:#A6ACCD;">//变量少，值多</span></span>
<span class="line"><span style="color:#A6ACCD;">let [a, [b, [c, []]]] = [1, [2, [3, [4]]]];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a, b, c);</span></span>
<span class="line"><span style="color:#A6ACCD;">//1 2 3</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//解构默认值</span></span>
<span class="line"><span style="color:#A6ACCD;">//这里默认值为6</span></span>
<span class="line"><span style="color:#A6ACCD;">let [a = 6] = [1];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a); //1</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">let [b = 6] = [];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(b); //6</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">let [a, b = 2] = [1];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a, b); //1 2</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">let [c, d = 2] = [1, undefined];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(c, d); //1 2</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">let [e, f = 2] = [1, null];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(e, f); //1 null</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">let [g, h = 2] = [1, false];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(g, h); //1 false</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">let [j, k = 2] = [1, &#39;1&#39;];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(j, k); //1 &#39;1&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//有默认值时，有值找值，没值找默认值</span></span>
<span class="line"><span style="color:#A6ACCD;">function test() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(10);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">let [x = test()] = [1];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(x); //1</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">let [y = test()] = [];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(y); //10 undefind</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">let [x = 1, y = x] = [];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(x, y); //1 1</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//重复声明</span></span>
<span class="line"><span style="color:#A6ACCD;">let a = 5;</span></span>
<span class="line"><span style="color:#A6ACCD;">let [a = 1, b = a] = [];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(x, y);</span></span>
<span class="line"><span style="color:#A6ACCD;">//Uncaught SyntaxError: Identifier &#39;a&#39; has already been declared</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">let [x = 1, y = x] = [2];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(x, y); //2 2</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">let [x = 1, y = x] = [1, 2];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(x, y); //1 2</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//暂时性死区</span></span>
<span class="line"><span style="color:#A6ACCD;">let [x = y, y = 1] = [];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(x, y);</span></span>
<span class="line"><span style="color:#A6ACCD;">//Uncaught ReferenceError: Cannot access &#39;y&#39; before initialization</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>对象解构</strong></p><p>对象的解构是不存在顺序的</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">let {</span></span>
<span class="line"><span style="color:#A6ACCD;">  a: a,</span></span>
<span class="line"><span style="color:#A6ACCD;">  b: b,</span></span>
<span class="line"><span style="color:#A6ACCD;">  c: c</span></span>
<span class="line"><span style="color:#A6ACCD;">} = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  a: 1,</span></span>
<span class="line"><span style="color:#A6ACCD;">  b: 2,</span></span>
<span class="line"><span style="color:#A6ACCD;">  c: 3</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a, b, c);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>常见对象的解构方式</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">const {son} = person;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>对象规则解构</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//数组也是特殊的对象，也能进行解构赋值</span></span>
<span class="line"><span style="color:#A6ACCD;">let arr = [1, 2, 3];</span></span>
<span class="line"><span style="color:#A6ACCD;">let {0: first, [arr.length - 1]: last} = arr;</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(first, last); //1 3</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>默认值兼容</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//默认值</span></span>
<span class="line"><span style="color:#A6ACCD;">function fetch(url, {</span></span>
<span class="line"><span style="color:#A6ACCD;">  body: body = &#39;&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  method: method = &#39;GET&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  header: header = {}</span></span>
<span class="line"><span style="color:#A6ACCD;">} = {}) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(method);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">fetch(&#39;http://www.baidu.com&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">fetch(&#39;http://www.baidu.com&#39;, {}); //GET</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="简写" tabindex="-1">简写 <a class="header-anchor" href="#简写" aria-hidden="true">#</a></h2><p>对象简写</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">var name = &#39;zhangsan&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">var age = 14;</span></span>
<span class="line"><span style="color:#A6ACCD;">var person = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  name,</span></span>
<span class="line"><span style="color:#A6ACCD;">  age,</span></span>
<span class="line"><span style="color:#A6ACCD;">  sex: &#39;male&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  eat() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(1);</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(person);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="箭头函数" tabindex="-1">箭头函数 <a class="header-anchor" href="#箭头函数" aria-hidden="true">#</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">() =&gt; {};</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">() =&gt; a;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>箭头函数的实质</strong></p><ol><li>箭头函数忽略任何形式<code>this</code>指向的改变</li><li>箭头函数<code>this</code>指向 由外层函数的作用域来决定的</li><li>不能作为构造函数来使用</li><li>没有<code>arguments</code>对象，用<code>rest</code>(拓展运算符替代)</li><li><code>yield </code>命令不能生效，在<code>generator </code>函数中</li></ol><p><strong><code>ES5 </code>中 <code>this</code>指向问题：</strong></p><ul><li>默认规则</li><li>隐式规则</li><li>显示规则</li><li><code>new</code></li></ul><p><strong>优先级：</strong></p><p><code>new </code> &gt; 显示 &gt; 隐式 &gt; 默认</p><p>示例1：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//箭头函数指向</span></span>
<span class="line"><span style="color:#A6ACCD;">function foo() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(this);</span></span>
<span class="line"><span style="color:#A6ACCD;">  return (a) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(this.a);</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">var obj1 = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  a: 2</span></span>
<span class="line"><span style="color:#A6ACCD;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">var obj2 = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  a: 3</span></span>
<span class="line"><span style="color:#A6ACCD;">};</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">var bar = foo.call(obj1);</span></span>
<span class="line"><span style="color:#A6ACCD;">//foo()返回函数体本身bar</span></span>
<span class="line"><span style="color:#A6ACCD;">//{a: 2}</span></span>
<span class="line"><span style="color:#A6ACCD;">bar.call(obj2);</span></span>
<span class="line"><span style="color:#A6ACCD;">//此时bar是一个箭头函数, call不能改变this指向,所以还是指向父级作用域的foo.call(obj1)指向obj1，打印2</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>示例2：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">const person = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  eat() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(this);</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;">  drink: () =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(this);</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">person.eat();</span></span>
<span class="line"><span style="color:#A6ACCD;">//隐式转换为person对象</span></span>
<span class="line"><span style="color:#A6ACCD;">//指向调用者</span></span>
<span class="line"><span style="color:#A6ACCD;">//{eat: ƒ, drink: ƒ}</span></span>
<span class="line"><span style="color:#A6ACCD;">person.drink();</span></span>
<span class="line"><span style="color:#A6ACCD;">//隐式转换箭头函数失败</span></span>
<span class="line"><span style="color:#A6ACCD;">//箭头父级作用域决定指向window</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>示例3：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//箭头函数嵌套</span></span>
<span class="line"><span style="color:#A6ACCD;">//箭头函数没有this机制的，this是外层的</span></span>
<span class="line"><span style="color:#A6ACCD;">//指向是固定的</span></span>
<span class="line"><span style="color:#A6ACCD;">function foo() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(this);</span></span>
<span class="line"><span style="color:#A6ACCD;">  return () =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(this);</span></span>
<span class="line"><span style="color:#A6ACCD;">    return () =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">      console.log(this);</span></span>
<span class="line"><span style="color:#A6ACCD;">      return () =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(this);</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;id&#39;, this.id);</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">var f = foo.call({</span></span>
<span class="line"><span style="color:#A6ACCD;">  id: 1</span></span>
<span class="line"><span style="color:#A6ACCD;">});</span></span>
<span class="line"><span style="color:#A6ACCD;">var f1 = f.call({</span></span>
<span class="line"><span style="color:#A6ACCD;">  id: 2</span></span>
<span class="line"><span style="color:#A6ACCD;">})()();</span></span>
<span class="line"><span style="color:#A6ACCD;">var f2 = f().call({</span></span>
<span class="line"><span style="color:#A6ACCD;">  id: 3</span></span>
<span class="line"><span style="color:#A6ACCD;">})();</span></span>
<span class="line"><span style="color:#A6ACCD;">var f3 = f()().call({</span></span>
<span class="line"><span style="color:#A6ACCD;">  id: 4</span></span>
<span class="line"><span style="color:#A6ACCD;">});</span></span>
<span class="line"><span style="color:#A6ACCD;">//id 1</span></span>
<span class="line"><span style="color:#A6ACCD;">//id 1</span></span>
<span class="line"><span style="color:#A6ACCD;">//id 1</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>示例4：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//在箭头函数内部不存在arguments</span></span>
<span class="line"><span style="color:#A6ACCD;">var test = () =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(arguments);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">test();</span></span>
<span class="line"><span style="color:#A6ACCD;">//Uncaught ReferenceError: arguments is not defined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>示例5：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//箭头函数在定时器内部可以通过闭包访问父级作用域的属性</span></span>
<span class="line"><span style="color:#A6ACCD;">function foo() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(arguments);</span></span>
<span class="line"><span style="color:#A6ACCD;">  var a = 1;</span></span>
<span class="line"><span style="color:#A6ACCD;">  setTimeout(() =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(a);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(arguments);</span></span>
<span class="line"><span style="color:#A6ACCD;">  })</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">foo(1, 2, 3, 4, 5, 6);</span></span>
<span class="line"><span style="color:#A6ACCD;">//Arguments(6) [1, 2, 3, 4, 5, 6, callee: ƒ, Symbol(Symbol.iterator): ƒ]</span></span>
<span class="line"><span style="color:#A6ACCD;">//1</span></span>
<span class="line"><span style="color:#A6ACCD;">//Arguments(6) [1, 2, 3, 4, 5, 6, callee: ƒ, Symbol(Symbol.iterator): ƒ]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>案例1：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//功能：插指定入数组元素到数组的指定位置</span></span>
<span class="line"><span style="color:#A6ACCD;">function insert(value) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  return {</span></span>
<span class="line"><span style="color:#A6ACCD;">    into: function (array) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return {</span></span>
<span class="line"><span style="color:#A6ACCD;">        after: function (afterValue) {</span></span>
<span class="line"><span style="color:#A6ACCD;">          //索引+1</span></span>
<span class="line"><span style="color:#A6ACCD;">          //删除0位，添加value</span></span>
<span class="line"><span style="color:#A6ACCD;">          array.splice(array.indexOf(afterValue) + 1, 0, value);</span></span>
<span class="line"><span style="color:#A6ACCD;">          return array;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//插入值5到数组[1,2,3,4,6,7,8]里索引为4的位置</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(insert(5).into([1, 2, 3, 4, 6, 7, 8]).after(4));</span></span>
<span class="line"><span style="color:#A6ACCD;">//[1, 2, 3, 4, 5, 6, 7, 8]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//箭头函数方式改造</span></span>
<span class="line"><span style="color:#A6ACCD;">let insert = (value) =&gt; ({</span></span>
<span class="line"><span style="color:#A6ACCD;">  into: (array) =&gt; ({</span></span>
<span class="line"><span style="color:#A6ACCD;">    after: (afterValue) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">      array.splice(array.indexOf(afterValue) + 1, 0, value);</span></span>
<span class="line"><span style="color:#A6ACCD;">      return array;</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  })</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(insert(5).into([1, 2, 3, 4, 6, 7, 8]).after(4));</span></span>
<span class="line"><span style="color:#A6ACCD;">//[1, 2, 3, 4, 5, 6, 7, 8]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>箭头函数使用场景：</strong></p><ul><li>适合箭头表达式的情况： <ul><li>返回值单一，只有唯一的表达式，函数内部没有<code>this</code>引用</li><li>递归</li><li>事件处理函数绑定/解绑</li><li>内层的函数表达式需要调用<code>this</code>，用<code>var _self = this;</code></li><li><code>bind(this)</code>确保适当的<code>this</code>指向时</li><li><code>var args = Array.prototype.slice.call(arguments)</code> 用箭头函数比较好</li></ul></li><li>不适合箭头表达式的情况： <ul><li>函数声明，执行语句比较多的</li><li>还需要用到递归</li><li>还需要引用函数名</li><li>事件绑定，解绑定</li></ul></li></ul><h2 id="rest" tabindex="-1">rest <a class="header-anchor" href="#rest" aria-hidden="true">#</a></h2><p>展开运算符，展开/收集</p><p><code>... spread / rest</code> 运算符</p><p>收集实参：得到的是数组而不是类数组</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">var sum = (...args) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(args);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">sum(1, 2); //[1, 2]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>展开实参：得到的是单独的值</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">function foo(x, y, z) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(x, y, z);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">foo(...[1, 2, 3]); //1 2 3</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//ES5模拟</span></span>
<span class="line"><span style="color:#A6ACCD;">function foo(x, y, z) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(x, y, z);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">// foo(...[1, 2, 3]); //1 2 3</span></span>
<span class="line"><span style="color:#A6ACCD;">foo.apply(null, [1, 2, 3]); //1 2 3</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>其他上下文展开</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//数组展开</span></span>
<span class="line"><span style="color:#A6ACCD;">//ES6优势：语义化更强</span></span>
<span class="line"><span style="color:#A6ACCD;">let a = [2, 3, 4];</span></span>
<span class="line"><span style="color:#A6ACCD;">let b = [1, ...a, 5];</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(b); //[1, 2, 3, 4, 5]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//相当于ES5</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log([1].concat(a, [5])); //[1, 2, 3, 4, 5]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//把剩余的所有参数都收集到c变量里形成数组展示</span></span>
<span class="line"><span style="color:#A6ACCD;">//注意：拓展运算符必须是最后一位</span></span>
<span class="line"><span style="color:#A6ACCD;">let fn = (a, b, ...c) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(a, b, c);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">fn(1, 2, 3, 4, 5, 6, 7);</span></span>
<span class="line"><span style="color:#A6ACCD;">//1 2 [3, 4, 5, 6, 7]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//ES5:排序数组</span></span>
<span class="line"><span style="color:#A6ACCD;">function sortNum() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  return Array.prototype.slice.call(arguments).sort(function (a, b) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    return a - b</span></span>
<span class="line"><span style="color:#A6ACCD;">  });</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(sortNum(12, 431, 24, 14, 1, 4, 125, 2, 35, 25));</span></span>
<span class="line"><span style="color:#A6ACCD;">//[1, 2, 4, 12, 14, 24, 25, 35, 125, 431]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//ES6:排序数组</span></span>
<span class="line"><span style="color:#A6ACCD;">const sortNum2 = (...args) =&gt; args.sort((a, b) =&gt; a - b);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(sortNum2(12, 431, 24, 14, 1, 4, 125, 2, 35, 25));</span></span>
<span class="line"><span style="color:#A6ACCD;">//[1, 2, 4, 12, 14, 24, 25, 35, 125, 431]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>展开运算符不能通过<code>length</code>属性访问,只能访问实际实参的长度</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//访问length属性</span></span>
<span class="line"><span style="color:#A6ACCD;">//ES5</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log((function (a) {}).length); //1</span></span>
<span class="line"><span style="color:#A6ACCD;">//ES6</span></span>
<span class="line"><span style="color:#A6ACCD;">//...args不能通过length属性访问,只能访问实际实参的长度</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(((...a) =&gt; {}).length); //0</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(((b, ...a) =&gt; {}).length); //1</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(((b, c, ...a) =&gt; {}).length); //2</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>ES2017</code>的展开运算符</p><p>可以 实现对象展开</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">var obj = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  a: 1,</span></span>
<span class="line"><span style="color:#A6ACCD;">  b: 2,</span></span>
<span class="line"><span style="color:#A6ACCD;">  c: 3</span></span>
<span class="line"><span style="color:#A6ACCD;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">var obj1 = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  a: 4,</span></span>
<span class="line"><span style="color:#A6ACCD;">  d: 5,</span></span>
<span class="line"><span style="color:#A6ACCD;">  e: 6</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">var obj2 = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  ...obj,</span></span>
<span class="line"><span style="color:#A6ACCD;">  ...obj1</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(obj2);</span></span>
<span class="line"><span style="color:#A6ACCD;">//{a: 4, b: 2, c: 3, d: 5, e: 6}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>ES5</code>写法是通过<code>Object.assign()</code>合并</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">var obj = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  a: 1,</span></span>
<span class="line"><span style="color:#A6ACCD;">  b: 2,</span></span>
<span class="line"><span style="color:#A6ACCD;">  c: 3</span></span>
<span class="line"><span style="color:#A6ACCD;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">var obj1 = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  a: 4,</span></span>
<span class="line"><span style="color:#A6ACCD;">  d: 5,</span></span>
<span class="line"><span style="color:#A6ACCD;">  e: 6</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">var obj2 = {}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">Object.assign(obj2, obj, obj1);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(obj2);</span></span>
<span class="line"><span style="color:#A6ACCD;">//{a: 4, b: 2, c: 3, d: 5, e: 6}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="拓展" tabindex="-1">拓展 <a class="header-anchor" href="#拓展" aria-hidden="true">#</a></h2><p><strong>函数名</strong></p><p>函数声明和<code>new Function</code>定义的函数名称会有区别。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">console.log(f.name); //f</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">console.log((new Function).name); //anonymous</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">console.log(foo.bind({}).name); //bound foo;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>对象</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">const foo = &#39;bar&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//对象名称和函数名称相同时可以简写</span></span>
<span class="line"><span style="color:#A6ACCD;">const baz = {foo};</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>属性名，可以通过<code>[]</code>访问对应的值</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">var arr = [1, 23, 23, 45, 5];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(arr[1]); //23</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>属性经过一层包装，将传入的所有值进行包装变成一个字符串</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//所以说，定义的属性都为字符串</span></span>
<span class="line"><span style="color:#A6ACCD;">var arr = [1, 23, 23, 45, 5];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(arr[&#39;1&#39;]); //23</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>属性名拼接</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//拼接的属性名会重写之前的属性名</span></span>
<span class="line"><span style="color:#A6ACCD;">//先进行覆盖然后再找属性值</span></span>
<span class="line"><span style="color:#A6ACCD;">let obj = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  [a + b] : true,</span></span>
<span class="line"><span style="color:#A6ACCD;">  [&#39;hello&#39; + b] : 123,</span></span>
<span class="line"><span style="color:#A6ACCD;">  [&#39;hello&#39; + &#39;world&#39;] : undefined</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><em><strong>当属性名为对象的时候，如何转换为对象？</strong></em></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">var myObject = {};</span></span>
<span class="line"><span style="color:#A6ACCD;">myObject[true] = &#39;foo&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">myObject[3] = &#39;bar&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">myObject[myObject] = &#39;baz&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(myObject[&#39;true&#39;]); //foo</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(myObject[&#39;3&#39;]); //bar</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(myObject[myObject]); //baz</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(myObject[&#39;[object Object]&#39;]); //baz</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//如何成为字符串？</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(Boolean.prototype.toString.call(true)); //true</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(Number.prototype.toString.call(3)); //3</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(Object.prototype.toString.call(myObject)); //[object Object]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(Object.prototype.toString.call(true)); //[object Boolean]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//只有一个属性，后一个属性覆盖前一个属性</span></span>
<span class="line"><span style="color:#A6ACCD;">const a = { a: 1 };</span></span>
<span class="line"><span style="color:#A6ACCD;">const b = { b: 2 };</span></span>
<span class="line"><span style="color:#A6ACCD;">const obj = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  [a]: &#39;valueA&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  [b]: &#39;valueB&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(obj);</span></span>
<span class="line"><span style="color:#A6ACCD;">//{[object Object]: &quot;valueB&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>对象中的<code>name</code>属性</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">const person = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  sayName() { console.log(&#39;hello&#39;); }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(person.sayName.name); //sayName</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="symbol" tabindex="-1"><code>Symbol</code> <a class="header-anchor" href="#symbol" aria-hidden="true">#</a></h2><p><em><strong><code>ES6</code>为什么要引入<code>symbol</code>?</strong></em></p><p><strong>场景：</strong></p><p><code>ES5</code>对象属性经常出现重名的情况，解决对象属性名重名的问题</p><p><code>symbol</code>属于原始值类型的值，而不是构造函数</p><ul><li>原始值类型的值：<code>number/boolean/null/undefined/symbol</code></li><li>引用值类型的值：<code>Object/Array/Function</code></li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">let s1 = Symbol(&#39;foo&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">//是原始值包装类</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(typeof s1); //symbol</span></span>
<span class="line"><span style="color:#A6ACCD;">//挂不上属性</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(s1.a); //undefined</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//如何区别唯一的symbol值?可以通过传参区分</span></span>
<span class="line"><span style="color:#A6ACCD;">//作为标识符存在的</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(s1); //Symbol(foo)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//通过生成完全不一样的不可重复的原始类型</span></span>
<span class="line"><span style="color:#A6ACCD;">//针对拷贝属性覆盖的问题</span></span>
<span class="line"><span style="color:#A6ACCD;">var a = Symbol(&#39;a&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">var b = Symbol(&#39;a&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(a === b); //false</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// Symbol的值能否被Object.assign()拷贝？</span></span>
<span class="line"><span style="color:#A6ACCD;">//可以拷贝</span></span>
<span class="line"><span style="color:#A6ACCD;">var test = Object.assign({ a: &#39;b&#39; }, { [Symbol(&#39;c&#39;)]: &#39;d&#39; });</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(test);</span></span>
<span class="line"><span style="color:#A6ACCD;">//{a: &quot;b&quot;, Symbol(c): &quot;d&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><em><strong>如何避免重名？</strong></em></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">var obj = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  a: 1</span></span>
<span class="line"><span style="color:#A6ACCD;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">let s1 = Symbol(obj);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(s1);</span></span>
<span class="line"><span style="color:#A6ACCD;">//说明对象自己调用了Object.prototype.toString()方法将自己变成字符串</span></span>
<span class="line"><span style="color:#A6ACCD;">//也说明symbol的值永远是字符串</span></span>
<span class="line"><span style="color:#A6ACCD;">//Symbol([object Object])</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>如何使用？作为属性名来用</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//独一无二的属性名</span></span>
<span class="line"><span style="color:#A6ACCD;">let name = Symbol();</span></span>
<span class="line"><span style="color:#A6ACCD;">let person = {};</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 错误写法</span></span>
<span class="line"><span style="color:#A6ACCD;">//此写法是字符串不能用Symbol创建的变量</span></span>
<span class="line"><span style="color:#A6ACCD;">person.name = &#39;zhangsan&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(person);</span></span>
<span class="line"><span style="color:#A6ACCD;">//{name: &quot;zhangsan&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//正确的写法：</span></span>
<span class="line"><span style="color:#A6ACCD;">person[name] = &#39;lisi&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(person);</span></span>
<span class="line"><span style="color:#A6ACCD;">//{name: &quot;zhangsan&quot;, Symbol(): &quot;lisi&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//常用写法：</span></span>
<span class="line"><span style="color:#A6ACCD;">let name = Symbol();</span></span>
<span class="line"><span style="color:#A6ACCD;">let person1 = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  [name]: &#39;wangwu&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(person1);</span></span>
<span class="line"><span style="color:#A6ACCD;">//{Symbol(): &quot;wangwu&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//写法三：</span></span>
<span class="line"><span style="color:#A6ACCD;">let name = Symbol();</span></span>
<span class="line"><span style="color:#A6ACCD;">let person = {};</span></span>
<span class="line"><span style="color:#A6ACCD;">Object.defineProperty(person, name, {</span></span>
<span class="line"><span style="color:#A6ACCD;">  value: &#39;zhangsan&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(person);</span></span>
<span class="line"><span style="color:#A6ACCD;">//{Symbol(): &quot;zhangsan&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//挂载Symbol到变量里</span></span>
<span class="line"><span style="color:#A6ACCD;">let name = Symbol();</span></span>
<span class="line"><span style="color:#A6ACCD;">let eat = Symbol();</span></span>
<span class="line"><span style="color:#A6ACCD;">let person = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  [name]: &#39;zhangsan&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  [eat]: function(){}</span></span>
<span class="line"><span style="color:#A6ACCD;">  //简写</span></span>
<span class="line"><span style="color:#A6ACCD;">  [eat](){</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(this[name]);</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>Symbol</code>相关的几个方法</p><p><code>Symbol.for()</code>拿到唯一的值</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//一般来说，Symbol的值都是不同的</span></span>
<span class="line"><span style="color:#A6ACCD;">let s1 = Symbol(&#39;foo&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">let s2 = Symbol(&#39;foo&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(s1 === s2); //false</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//也有特殊的情况，可以值是相同的</span></span>
<span class="line"><span style="color:#A6ACCD;">let s3 = Symbol.for(&#39;foo&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">let s4 = Symbol.for(&#39;foo&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(s3 === s4); //true</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>Symbol.keyFor</code>全局中拿到当前的<code>key</code>值</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">let s1 = Symbol.for(&#39;foo&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">let s2 = Symbol.for(&#39;foo&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">//拥有同样的标识符</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(Symbol.keyFor(s1)); //foo</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(Symbol.keyFor(s2)); //foo</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>试着遍历</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">const obj = {}</span></span>
<span class="line"><span style="color:#A6ACCD;">let a = Symbol(&#39;a&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">let b = Symbol(&#39;b&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">obj[a] = &#39;hello&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">obj[b] = &#39;world&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">// console.log(obj);</span></span>
<span class="line"><span style="color:#A6ACCD;">//{Symbol(a): &quot;hello&quot;, Symbol(b): &quot;world&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//遍历</span></span>
<span class="line"><span style="color:#A6ACCD;">for (let i in obj) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(i);</span></span>
<span class="line"><span style="color:#A6ACCD;">  //无打印结果</span></span>
<span class="line"><span style="color:#A6ACCD;">  //说明for in 不能遍历 Symbol属性的对象</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>Object.getOwnPropertySymbols()</code>新的<code>API</code>专门遍历<code>symbol</code>类型的值(唯一的遍历方法)</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">const obj = {}</span></span>
<span class="line"><span style="color:#A6ACCD;">let a = Symbol(&#39;a&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">let b = Symbol(&#39;b&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">obj[a] = &#39;hello&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">obj[b] = &#39;world&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//只针对Symbol属性的对象遍历的方法</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(Object.getOwnPropertySymbols(obj));</span></span>
<span class="line"><span style="color:#A6ACCD;">//[Symbol(a), Symbol(b)]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>总结：</strong></p><ul><li><code>for in</code>：遍历自身和继承的可枚举属性(不包括含<code>Symbol</code>类型的值)</li><li><code>Object.key()</code>：遍历自身不包含<code>Symbol</code>类型的值</li><li><code>Object.getOwnPropertySymbols()</code>：遍历自身的<code>Symbol</code>类型的值</li><li><code>Object.assign()</code>：遍历自身可枚举的，包含<code>Symbol</code>类型的值</li><li><code>JSON.stringify()</code>：遍历自身可枚举的属性</li></ul><p><strong><code>Symbol</code>定义唯一方法实现一个<code>iterator</code>接口：</strong></p><p>对象是不连续的且无序的数据结构，一般来说不能用<code>for of</code>，但是可以通过部署迭代器接口的方式来使用<code>for of</code> 遍历</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//手动的编写一个iterator接口可以针对指定的数据类型进行迭代遍历</span></span>
<span class="line"><span style="color:#A6ACCD;">//对象上写一个iterator接口</span></span>
<span class="line"><span style="color:#A6ACCD;">let obj = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  start: [1, 3, 2, 4],</span></span>
<span class="line"><span style="color:#A6ACCD;">  end: [5, 7, 6],</span></span>
<span class="line"><span style="color:#A6ACCD;">  //中括号包裹字符串的方式</span></span>
<span class="line"><span style="color:#A6ACCD;">  [Symbol.iterator]() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    //定义指针</span></span>
<span class="line"><span style="color:#A6ACCD;">    let index = 0,</span></span>
<span class="line"><span style="color:#A6ACCD;">      //组合新数组</span></span>
<span class="line"><span style="color:#A6ACCD;">      arr = [...this.start, ...this.end],</span></span>
<span class="line"><span style="color:#A6ACCD;">      //新数组长度</span></span>
<span class="line"><span style="color:#A6ACCD;">      len = arr.length;</span></span>
<span class="line"><span style="color:#A6ACCD;">    //将新数组进行迭代</span></span>
<span class="line"><span style="color:#A6ACCD;">    return {</span></span>
<span class="line"><span style="color:#A6ACCD;">      next() {</span></span>
<span class="line"><span style="color:#A6ACCD;">        if (index &lt; len) {</span></span>
<span class="line"><span style="color:#A6ACCD;">          return {</span></span>
<span class="line"><span style="color:#A6ACCD;">            //累加的结果</span></span>
<span class="line"><span style="color:#A6ACCD;">            value: arr[index++],</span></span>
<span class="line"><span style="color:#A6ACCD;">            done: false</span></span>
<span class="line"><span style="color:#A6ACCD;">          }</span></span>
<span class="line"><span style="color:#A6ACCD;">        } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">          return {</span></span>
<span class="line"><span style="color:#A6ACCD;">            value: undefined,</span></span>
<span class="line"><span style="color:#A6ACCD;">            done: true</span></span>
<span class="line"><span style="color:#A6ACCD;">          }</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">for (let i of obj) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(i); //1 3 2 4 5 6 7</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="reflect" tabindex="-1">Reflect <a class="header-anchor" href="#reflect" aria-hidden="true">#</a></h2><p>是一个对象, 是<code>JavaScript</code>内置对象方法集合的容器</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">Reflect = {}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>整合了<code>ES5</code>原型上原有的方法的<code>ES6API</code>(静态方法)</p><p><code>apply()</code>/<code>defineProperty()</code>/<code>deleteProperty()</code>/<code>get()</code>/<code>getOwnPropertyDescriptor</code>/<code>getPrototypeof()</code>/<code>has()</code>/<code>isExtensible()</code>/<code>ownKeys()</code>/<code>preventExtensions()</code>/<code>set()</code>/<code>setPrototypeOf()</code></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//如何通过Reflect访问对象</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(obj.a);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(Reflect.get(obj, &#39;a&#39;));</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>利用函数式的写法重新定义<code>Proxy</code>构造函数，用方法去取值/赋值使得更为合理，利用底层的方法操作对象</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">let proxy = new Proxy(target, {</span></span>
<span class="line"><span style="color:#A6ACCD;">  get(target, prop){</span></span>
<span class="line"><span style="color:#A6ACCD;">    //1.直接访问返回</span></span>
<span class="line"><span style="color:#A6ACCD;">    //return &#39;This is property value&#39; + target[prop];</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    //2.通过函数式返回</span></span>
<span class="line"><span style="color:#A6ACCD;">    return Reflect.get(target, prop);</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;">  set(target, prop, value){</span></span>
<span class="line"><span style="color:#A6ACCD;">    //target[prop] = value;</span></span>
<span class="line"><span style="color:#A6ACCD;">    Reflect.set(target, prop, value);</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">});</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></div></div></main><!--[--><!--]--><!----><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"2320d2ca\",\"notes_css_1.css基础.md\":\"ae8c1e02\",\"notes_css_2.flex布局.md\":\"9d4ec96e\",\"notes_css_3.css3.md\":\"ad73d00f\",\"notes_css_4.响应式设计.md\":\"1d6bcc0c\",\"notes_css_5.案例.md\":\"bb05395e\",\"notes_css_6.画图.md\":\"ef27d9e3\",\"notes_css_7.grid布局.md\":\"c19d3557\",\"notes_index.md\":\"af7731c1\",\"notes_javascript_es3_es5_1.编程语言_浏览器历史.md\":\"b6c7207e\",\"notes_javascript_es3_es5_2.线程_脚本引入_变量_js值_原始值_引用值_内存.md\":\"360ea159\",\"notes_javascript_es6_1.新增特性.md\":\"d0c66927\",\"notes_javascript_es6_2.数据类型.md\":\"9010635b\",\"plans_2022年10月.md\":\"ac74bd87\",\"plans_2022年11月.md\":\"562b26ce\",\"plans_2022年12月.md\":\"03075b37\",\"plans_index.md\":\"bbcec714\"}")</script>
    <script type="module" async src="/assets/app.b7c8ca52.js"></script>
    
  </body>
</html>