<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据类型 | 大田</title>
    <meta name="description" content="Vite & Vue powered static site generator.">
    <link rel="stylesheet" href="/assets/style.1dea14ef.css">
    <link rel="modulepreload" href="/assets/app.b7c8ca52.js">
    <link rel="modulepreload" href="/assets/notes_javascript_es6_2.数据类型.md.9010635b.lean.js">
    
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-f44a984a><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav no-sidebar" data-v-f44a984a data-v-a50780ff><div class="VPNavBar" data-v-a50780ff data-v-6f1d18b5><div class="container" data-v-6f1d18b5><div class="VPNavBarTitle" data-v-6f1d18b5 data-v-d5925166><a class="title" href="/" data-v-d5925166><!--[--><!--]--><!--[--><img class="VPImage logo" src="/img/dog.svg" alt data-v-b7ac6bd3><!--]--><!--[-->大田<!--]--><!--[--><!--]--></a></div><div class="content" data-v-6f1d18b5><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6f1d18b5 data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/plans/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->Plan<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/notes/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->Note<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6f1d18b5 data-v-a3e7452b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-a3e7452b data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6f1d18b5 data-v-e4361c82 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><!----><div class="group" data-v-e4361c82><div class="item appearance" data-v-e4361c82><p class="label" data-v-e4361c82>Appearance</p><div class="appearance-action" data-v-e4361c82><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-e4361c82 data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6f1d18b5 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-f44a984a data-v-d981fe29><div class="VPDoc has-aside" data-v-d981fe29 data-v-cfb513e0><div class="container" data-v-cfb513e0><div class="aside" data-v-cfb513e0><div class="aside-curtain" data-v-cfb513e0></div><div class="aside-container" data-v-cfb513e0><div class="aside-content" data-v-cfb513e0><div class="VPDocAside" data-v-cfb513e0 data-v-afc4c1a1><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-afc4c1a1 data-v-2865c0b0><div class="content" data-v-2865c0b0><div class="outline-marker" data-v-2865c0b0></div><div class="outline-title" data-v-2865c0b0>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-2865c0b0><span class="visually-hidden" id="doc-outline-aria-label" data-v-2865c0b0> Table of Contents for current page </span><ul class="root" data-v-2865c0b0 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-afc4c1a1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-cfb513e0><div class="content-container" data-v-cfb513e0><!--[--><!--]--><main class="main" data-v-cfb513e0><div style="position:relative;" class="vp-doc _notes_javascript_es6_2_%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" data-v-cfb513e0><div><h1 id="数据类型" tabindex="-1">数据类型 <a class="header-anchor" href="#数据类型" aria-hidden="true">#</a></h1><h2 id="map-set" tabindex="-1">Map&amp;Set <a class="header-anchor" href="#map-set" aria-hidden="true">#</a></h2><p><strong>Map</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">var m = {};</span></span>
<span class="line"><span style="color:#A6ACCD;">var x = { id: 1 }</span></span>
<span class="line"><span style="color:#A6ACCD;">var y = { id: 2 };</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">m[x] = &#39;foo&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">m[y] = &#39;bar&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//这里看出{id：1}转为字符串[object Object]</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(Object.prototype.toString({ id: 1 })); //[object Object]</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(m); //{[object Object]: &quot;bar&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//一样的键名，第二次会覆盖第一次的操作</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(m[x]); //bar</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(m[y]); //bar</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>以上可以看出传统的对象处理方式并不友好，当键名是一个对象的时候，它是调用原型上的<code>toString()</code>方法，转完之后并不能实现键名键值一一对应，<code>ES6</code>提供的新的数据结构<code>Map()</code>来解决以上问题</p><p><code>Map()</code>存放的是对象，有键名和键值，且键名不限于字符串，也可以是对象，也可实现一一对应的关系</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">let m = new Map();</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">var x = { id: 1 };</span></span>
<span class="line"><span style="color:#A6ACCD;">var y = { id: 2 };</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//设置键名和键值</span></span>
<span class="line"><span style="color:#A6ACCD;">m.set(x, &#39;foo&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">m.set(y, &#39;bar&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//获取键值</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(m.get(x)); //foo</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(m.get(y)); //bar</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(m);</span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * Map(2) {{…} =&gt; &quot;foo&quot;, {…} =&gt; &quot;bar&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[Entries]]</span></span>
<span class="line"><span style="color:#A6ACCD;"> *     0: {Object =&gt; &quot;foo&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *     1: {Object =&gt; &quot;bar&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *     size: 2</span></span>
<span class="line"><span style="color:#A6ACCD;"> *     __proto__: Map</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>Map()</code>数据也具备<code>iterator</code>接口的数据结构</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//写法一：</span></span>
<span class="line"><span style="color:#A6ACCD;">//参数必须以数组的形式出现双源的数据结构</span></span>
<span class="line"><span style="color:#A6ACCD;">let m = new Map([</span></span>
<span class="line"><span style="color:#A6ACCD;">  [&#39;name&#39;, &#39;zhangsan&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">  [&#39;title&#39;, &#39;lisi&#39;]</span></span>
<span class="line"><span style="color:#A6ACCD;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//写法二：</span></span>
<span class="line"><span style="color:#A6ACCD;">let m2 = new Map();</span></span>
<span class="line"><span style="color:#A6ACCD;">m2.set(&#39;name&#39;, &#39;zhangsan&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">m2.set(&#39;title&#39;, &#39;lisi&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(m);</span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * Map(2) {&quot;name&quot; =&gt; &quot;zhangsan&quot;, &quot;title&quot; =&gt; &quot;lisi&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[Entries]]</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   0: {&quot;name&quot; =&gt; &quot;zhangsan&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   1: {&quot;title&quot; =&gt; &quot;lisi&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   size: 2</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   __proto__: Map</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//模拟将键名和键值遍历到map数据里</span></span>
<span class="line"><span style="color:#A6ACCD;">var items = [</span></span>
<span class="line"><span style="color:#A6ACCD;">  [&#39;name&#39;, &#39;wangwu&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">  [&#39;title&#39;, &#39;zhaoliu&#39;]</span></span>
<span class="line"><span style="color:#A6ACCD;">];</span></span>
<span class="line"><span style="color:#A6ACCD;">let m = new Map();</span></span>
<span class="line"><span style="color:#A6ACCD;">items.forEach(([key, value]) =&gt; m.set(key, value));</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(m);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * Map(2) {&quot;name&quot; =&gt; &quot;wangwu&quot;, &quot;title&quot; =&gt; &quot;zhaoliu&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[Entries]]</span></span>
<span class="line"><span style="color:#A6ACCD;"> *     0: {&quot;name&quot; =&gt; &quot;wangwu&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *       key: &quot;name&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> *       value: &quot;wangwu&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> *     1: {&quot;title&quot; =&gt; &quot;zhaoliu&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *       key: &quot;title&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> *       value: &quot;zhaoliu&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> *     size: 2</span></span>
<span class="line"><span style="color:#A6ACCD;"> *     __proto__: Map</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//键值相同覆盖的问题</span></span>
<span class="line"><span style="color:#A6ACCD;">const map = new Map();</span></span>
<span class="line"><span style="color:#A6ACCD;">map.set(1, &#39;foo&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">map.set(1, &#39;bar&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(map.get(1)); //bar</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//键值为NaN</span></span>
<span class="line"><span style="color:#A6ACCD;">const map = new Map();</span></span>
<span class="line"><span style="color:#A6ACCD;">map.set(NaN, 123);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(map.get(NaN)); //123</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(NaN === NaN); //false</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(Object.is(NaN, NaN)); //true</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//如何将Map数据转为数组</span></span>
<span class="line"><span style="color:#A6ACCD;">const myMap = new Map();</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//设置键名键值</span></span>
<span class="line"><span style="color:#A6ACCD;">myMap.set(true, 7);</span></span>
<span class="line"><span style="color:#A6ACCD;">myMap.set({</span></span>
<span class="line"><span style="color:#A6ACCD;">  foo: 3</span></span>
<span class="line"><span style="color:#A6ACCD;">}, [&#39;abc&#39;]);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(myMap);</span></span>
<span class="line"><span style="color:#A6ACCD;">//Map(2) {true =&gt; 7, {foo: 3} =&gt; [&#39;abc&#39;]}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log([...myMap]);</span></span>
<span class="line"><span style="color:#A6ACCD;">//[[true, 7], [{foo: 3}, [&quot;abc&quot;]]]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//如何将Map数据转为对象</span></span>
<span class="line"><span style="color:#A6ACCD;">const myMap = new Map();</span></span>
<span class="line"><span style="color:#A6ACCD;">myMap.set(true, 7);</span></span>
<span class="line"><span style="color:#A6ACCD;">myMap.set(&#39;a&#39;, &#39;abc&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">function strMapToObj(strMap) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  //Object.create(指向原型)</span></span>
<span class="line"><span style="color:#A6ACCD;">  let obj = Object.create(null);</span></span>
<span class="line"><span style="color:#A6ACCD;">  //迭代键名键值</span></span>
<span class="line"><span style="color:#A6ACCD;">  for (let [key, val] of strMap.entries()) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    obj[key] = val;</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">  return obj;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(strMapToObj(myMap));</span></span>
<span class="line"><span style="color:#A6ACCD;">//{true: 7, a: &quot;abc&quot;}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//如何将对象转为Map数据</span></span>
<span class="line"><span style="color:#A6ACCD;">function objToStrMap(obj) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  let strMap = new Map();</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  for (let key in obj) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    strMap.set(key, obj[key])</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  return strMap;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(objToStrMap({</span></span>
<span class="line"><span style="color:#A6ACCD;">  true: 7,</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;no&#39;: false</span></span>
<span class="line"><span style="color:#A6ACCD;">}));</span></span>
<span class="line"><span style="color:#A6ACCD;">//Map(2) {&quot;true&quot; =&gt; 7, &quot;no&quot; =&gt; false}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>Set</strong></p><p>特点：成员唯一的数组</p><p>场景：利用<code>set</code>的唯一性对数据进行去重，然后将<code>set</code>转化为数组提高效率</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//参数只能是具备iterator接口的数据结构</span></span>
<span class="line"><span style="color:#A6ACCD;">var set = new Set([1, 2, 3, 4, 5]);</span></span>
<span class="line"><span style="color:#A6ACCD;">set.add(5);</span></span>
<span class="line"><span style="color:#A6ACCD;">set.add(7);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * Set(6) {1, 2, 3, 4, 5, …}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[Entries]]</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   0: 1</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   1: 2</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   2: 3</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   3: 4</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   4: 5</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   5: 7</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   size: (...)</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   __proto__: Set</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//简单判断特殊的值让set识别是否唯一的</span></span>
<span class="line"><span style="color:#A6ACCD;">var set = new Set([undefined, undefined, null, null, 5, &#39;5&#39;, true, 1, NaN, NaN, {}, {}, [], []]);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set);</span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * Set(11) {undefined, null, 5, &quot;5&quot;, true, …}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[Entries]]</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   0: undefined</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   1: null</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   2: 5</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   3: &quot;5&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   4: true</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   5: 1</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   6: NaN</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   7: Object</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   8: Object</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   9: Array(0)</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   10: Array(0)</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   size: (...)</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   __proto__: Set</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>方法：<code>add()</code>/<code>delete()</code>/<code>clear()</code>/<code>has()</code></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//add()添加值，返回的是set结构本身</span></span>
<span class="line"><span style="color:#A6ACCD;">var set = new Set();</span></span>
<span class="line"><span style="color:#A6ACCD;">var x = {</span></span>
<span class="line"><span style="color:#A6ACCD;">    id: 1</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;">  y = {</span></span>
<span class="line"><span style="color:#A6ACCD;">    id: 2</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">set.add(x);</span></span>
<span class="line"><span style="color:#A6ACCD;">set.add(y);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * Set(2) {{…}, {…}}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[Entries]]</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   0: </span></span>
<span class="line"><span style="color:#A6ACCD;"> *     value: {id: 1}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   1:</span></span>
<span class="line"><span style="color:#A6ACCD;"> *     value: {id: 2}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   size: 2</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   __proto__: Set</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//delete()删除指定一个</span></span>
<span class="line"><span style="color:#A6ACCD;">//返回值为布尔值 true可删/false没数据可删</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set.delete(y));</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * Set(1) {{…}}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[Entries]]</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   0: </span></span>
<span class="line"><span style="color:#A6ACCD;"> *     value: {id: 1}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   size: 1</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   __proto__: Set</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//clear()全部清空</span></span>
<span class="line"><span style="color:#A6ACCD;">//返回值为undefined</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set.clear());</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * Set(0) {}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[Entries]]</span></span>
<span class="line"><span style="color:#A6ACCD;"> *     No properties</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   size: 0</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   __proto__: Set</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//has()判断当前是否含有指定值</span></span>
<span class="line"><span style="color:#A6ACCD;">//返回值为布尔值 true有该值/false没有该值</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set.has(x));</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//set特征：实时监控数据</span></span>
<span class="line"><span style="color:#A6ACCD;">var set = new Set([1, 2]);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set);</span></span>
<span class="line"><span style="color:#A6ACCD;">set.clear();</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//注意：打印是在清除之前的，但仍然没有数据显示，说明set实时监控数据</span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * Set(2) {1, 2}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[Entries]]</span></span>
<span class="line"><span style="color:#A6ACCD;"> *     No properties</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   size: 0</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   __proto__: Set</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>遍历方法：<code>keys()</code>/<code>values()</code>/<code>entries()</code>/<code>forEach()</code></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//返回值是迭代器对象</span></span>
<span class="line"><span style="color:#A6ACCD;">let set = new Set([1, 2, 3]);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set.keys());</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set.values());</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set.entries());</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * SetIterator {1, 2, 3}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[Entries]]</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   0: 1</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   1: 2</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   2: 3</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   __proto__: Set Iterator</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[IteratorHasMore]]: true</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[IteratorIndex]]: 0</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[IteratorKind]]: &quot;values&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * SetIterator {1, 2, 3}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[Entries]]</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   0: 1</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   1: 2</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   2: 3</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   __proto__: Set Iterator</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[IteratorHasMore]]: true</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[IteratorIndex]]: 0</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[IteratorKind]]: &quot;values&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * SetIterator {1 =&gt; 1, 2 =&gt; 2, 3 =&gt; 3}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[Entries]]</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   0: {1 =&gt; 1}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   1: {2 =&gt; 2}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   2: {3 =&gt; 3}</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   __proto__: Set Iterator</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[IteratorHasMore]]: true</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[IteratorIndex]]: 0</span></span>
<span class="line"><span style="color:#A6ACCD;"> *   [[IteratorKind]]: &quot;entries&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>for of</code>循环迭代器对象</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">let set = new Set([1, 2, 3]);</span></span>
<span class="line"><span style="color:#A6ACCD;">//set结构没有键名</span></span>
<span class="line"><span style="color:#A6ACCD;">//键名和键值是一致的</span></span>
<span class="line"><span style="color:#A6ACCD;">for (let i of set.keys()) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(i);</span></span>
<span class="line"><span style="color:#A6ACCD;">  //1 2 3</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">for (let i of set.values()) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(i);</span></span>
<span class="line"><span style="color:#A6ACCD;">  //1 2 3</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">for (let i of set.entries()) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(i);</span></span>
<span class="line"><span style="color:#A6ACCD;">  //[1, 1] [2, 2] [3, 3]</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>单独遍历具有迭代器接口的<code>set</code></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">for (let i of set) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(i);</span></span>
<span class="line"><span style="color:#A6ACCD;">  //1 2 3</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//验证是返回值从哪个接口返回出来的？ set.keys()或set.values()</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(Set.prototype[Symbol.iterator] === Set.prototype.values); //true</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(Set.prototype[Symbol.iterator] === Set.prototype.keys); //true</span></span>
<span class="line"><span style="color:#A6ACCD;">//说明set依赖set.values()方法遍历出来的值</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//forEach()遍历</span></span>
<span class="line"><span style="color:#A6ACCD;">let set = new Set([1, 2, 3]);</span></span>
<span class="line"><span style="color:#A6ACCD;">set.forEach(function (value, keys, arr) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(value); //1 1 Set{1, 2, 3}</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(keys); //2 2 Set{1, 2, 3}</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(arr); //3 3 Set{1, 2, 3}</span></span>
<span class="line"><span style="color:#A6ACCD;">});</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>set</code>适用展开运算符</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//利用展开运算符可以将set数据轻松转为数组结构</span></span>
<span class="line"><span style="color:#A6ACCD;">let set = new Set([1, 2, 3]);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(...set); //1 2 3</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log([...set]); //[1, 2, 3]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//将set数据里的数值乘以2</span></span>
<span class="line"><span style="color:#A6ACCD;">//利用数组map()方法映射</span></span>
<span class="line"><span style="color:#A6ACCD;">let set = new Set([1, 2, 3]);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log([...set].map(value =&gt; value * 2));</span></span>
<span class="line"><span style="color:#A6ACCD;">//[2, 4, 6]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//写法二：利用Array.from()</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(Array.from(set, value =&gt; value * 2));</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//set+filter过滤数组里的数值</span></span>
<span class="line"><span style="color:#A6ACCD;">//返回偶数组合的数组</span></span>
<span class="line"><span style="color:#A6ACCD;">let set = new Set([1, 2, 3, 4, 5, 6]);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log([...set].filter(x =&gt; (x % 2) == 0));</span></span>
<span class="line"><span style="color:#A6ACCD;">//[2, 4, 6]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki has-diff"><code><span class="line"><span style="color:#A6ACCD;">//交集 并集 差集</span></span>
<span class="line"><span style="color:#A6ACCD;">let a = new Set([1, 2, 3]);</span></span>
<span class="line"><span style="color:#A6ACCD;">let b = new Set([4, 3, 2]);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//并集 去重</span></span>
<span class="line"><span style="color:#A6ACCD;">let union = new Set([...a, ...b]);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(union); //Set(4) {1, 2, 3, 4}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//交集 过滤掉b 有b里的值就通过</span></span>
<span class="line"><span style="color:#A6ACCD;">let intersect = new Set([...a].filter(x =&gt; b.has(x)));</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(intersect); //Set(2) {2, 3}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//差集</span></span>
<span class="line"><span style="color:#A6ACCD;">let difference = new Set([...a].filter(x =&gt; !b.has(x)));</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(difference); //Set(1) {1}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>数据结构对比</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//map &amp; array 对比</span></span>
<span class="line"><span style="color:#A6ACCD;">let map = new Map();</span></span>
<span class="line"><span style="color:#A6ACCD;">let array = new Array();</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//增</span></span>
<span class="line"><span style="color:#A6ACCD;">map.set(&#39;t&#39;, 1);</span></span>
<span class="line"><span style="color:#A6ACCD;">array.push({</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;t&#39;: 1</span></span>
<span class="line"><span style="color:#A6ACCD;">});</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(map); //Map(1) {&quot;t&quot; =&gt; 1}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(array); //[{t: 1}]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//查</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(map.has(&#39;t&#39;)); //true</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(array.find(val =&gt; val[&#39;t&#39;])); //{t: 1}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//改</span></span>
<span class="line"><span style="color:#A6ACCD;">map.set(&#39;t&#39;, 2)</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(map);</span></span>
<span class="line"><span style="color:#A6ACCD;">array.forEach(item =&gt; item.t ? item.t = 2 : &#39;&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(array); //[{t: 2}]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//删</span></span>
<span class="line"><span style="color:#A6ACCD;">map.delete(&#39;t&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(map); //Map(0) {}</span></span>
<span class="line"><span style="color:#A6ACCD;">let index = array.findIndex(item =&gt; item.t);</span></span>
<span class="line"><span style="color:#A6ACCD;">array.splice(index, 1);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(array); //[]</span></span>
<span class="line"><span style="color:#A6ACCD;">//总结：map要更方便些</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//set &amp; array 对比</span></span>
<span class="line"><span style="color:#A6ACCD;">let set = new Set();</span></span>
<span class="line"><span style="color:#A6ACCD;">let array = [];</span></span>
<span class="line"><span style="color:#A6ACCD;">//把引用值存起来</span></span>
<span class="line"><span style="color:#A6ACCD;">let obj = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  t: 1</span></span>
<span class="line"><span style="color:#A6ACCD;">};</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//增</span></span>
<span class="line"><span style="color:#A6ACCD;">set.add(obj);</span></span>
<span class="line"><span style="color:#A6ACCD;">array.push({</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;t&#39;: 1</span></span>
<span class="line"><span style="color:#A6ACCD;">});</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set); //{[{t: 1}]}</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(array); //[{t: 1}]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//查</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set.has(obj)); //true</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(array.find(val =&gt; val[&#39;t&#39;])); //{t: 1}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//改</span></span>
<span class="line"><span style="color:#A6ACCD;">set.forEach(item =&gt; item.t ? item.t = 2 : &#39;&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set); //{[{t: 2}]}</span></span>
<span class="line"><span style="color:#A6ACCD;">array.forEach(item =&gt; item.t ? item.t = 2 : &#39;&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(array); //[{t: 2}]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//删</span></span>
<span class="line"><span style="color:#A6ACCD;">set.forEach(item =&gt; item.t ? set.delete(item) : &#39;&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set); //{}</span></span>
<span class="line"><span style="color:#A6ACCD;">let index = array.findIndex(item =&gt; item.t);</span></span>
<span class="line"><span style="color:#A6ACCD;">array.splice(index, 1);</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(array); //[]</span></span>
<span class="line"><span style="color:#A6ACCD;">//总结：操作方式set比array稍微略简</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//map set object 横向对比</span></span>
<span class="line"><span style="color:#A6ACCD;">let item = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  t: 1</span></span>
<span class="line"><span style="color:#A6ACCD;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">let map = new Map();</span></span>
<span class="line"><span style="color:#A6ACCD;">let set = new Set();</span></span>
<span class="line"><span style="color:#A6ACCD;">let obj = {};</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//增</span></span>
<span class="line"><span style="color:#A6ACCD;">map.set(&#39;t&#39;, 1);</span></span>
<span class="line"><span style="color:#A6ACCD;">set.add(item);</span></span>
<span class="line"><span style="color:#A6ACCD;">obj[&#39;t&#39;] = 1;</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(map, set, obj);</span></span>
<span class="line"><span style="color:#A6ACCD;">//{&quot;t&quot; =&gt; 1}</span></span>
<span class="line"><span style="color:#A6ACCD;">//{{0:{t: 1}}}</span></span>
<span class="line"><span style="color:#A6ACCD;">//{t: 1}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//查</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(map.has(&#39;t&#39;)); //true</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(set.has(item)); //true</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(&#39;t&#39; in obj); //true</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//改</span></span>
<span class="line"><span style="color:#A6ACCD;">map.set(&#39;t&#39;, 2);</span></span>
<span class="line"><span style="color:#A6ACCD;">set.forEach(item =&gt; item.t ? item.t = 2 : &#39;&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">obj[&#39;t&#39;] = 2;</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(map, set, obj);</span></span>
<span class="line"><span style="color:#A6ACCD;">//{&quot;t&quot; =&gt; 2}</span></span>
<span class="line"><span style="color:#A6ACCD;">//{{0:{t: 2}}}</span></span>
<span class="line"><span style="color:#A6ACCD;">//{t: 2}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//删</span></span>
<span class="line"><span style="color:#A6ACCD;">map.delete(&#39;t&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">set.delete(item);</span></span>
<span class="line"><span style="color:#A6ACCD;">delete obj[&#39;t&#39;];</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(map, set, obj);</span></span>
<span class="line"><span style="color:#A6ACCD;">//{} {} {}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//总结：</span></span>
<span class="line"><span style="color:#A6ACCD;">//1.map,set底层优化比obj,arr要好些</span></span>
<span class="line"><span style="color:#A6ACCD;">//2.map,set操作方式比obj,arr更优雅</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//建议：</span></span>
<span class="line"><span style="color:#A6ACCD;">//1.优先使用map</span></span>
<span class="line"><span style="color:#A6ACCD;">//2.对数据有唯一性要求的用set</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="weakmap-weakset" tabindex="-1">WeakMap&amp;WeakSet <a class="header-anchor" href="#weakmap-weakset" aria-hidden="true">#</a></h2><p>阉割版的<code>Map</code>和<code>Set</code></p><p>具有方法：<code>add()</code>/<code>delete()</code>/<code>has()</code></p><p>没有遍历方法</p><p>垃圾回收机制不考虑他们俩的引用</p><p><em><strong><code>WeekMap</code>和<code>Map</code>有什么区别？</strong></em></p><ul><li><code>Map</code>的键名可以是任意类型</li><li>普通对象的键名只能是字符串</li><li><code>WeekMap</code>的键名只能是对象</li></ul><blockquote><p><strong>注：</strong> <code>WeekMap</code>的键名是弱引用对象，只要引用没有了，关联的键值也会一并被垃圾回收</p></blockquote><p><strong>应用场景：</strong></p><ol><li>对于一些属性或方法数据用完时或绑定事件处理函数想销毁时，不需要手动销毁，利用<code>WeekMap</code>就可以处理销毁</li><li>在深拷贝中，利用<code>WeekMap</code>可以实现记录已经被拷贝过的对象或数组，来避免重复拷贝导致内存泄漏，浏览器死循环报错等问题</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">//WeakSet&amp;WeakMap成员只能是对象不能为别的数据，否则报错</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(new WeakSet().add(1));</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></div></div></main><!--[--><!--]--><!----><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"0e02189e\",\"notes_css_1.css基础.md\":\"ae8c1e02\",\"notes_css_2.flex布局.md\":\"9d4ec96e\",\"notes_css_3.css3.md\":\"ad73d00f\",\"notes_css_4.响应式设计.md\":\"1d6bcc0c\",\"notes_css_5.案例.md\":\"bb05395e\",\"notes_css_6.画图.md\":\"ef27d9e3\",\"notes_css_7.grid布局.md\":\"c19d3557\",\"notes_index.md\":\"af7731c1\",\"notes_javascript_es3_es5_1.编程语言_浏览器历史.md\":\"b6c7207e\",\"notes_javascript_es3_es5_2.线程_脚本引入_变量_js值_原始值_引用值_内存.md\":\"360ea159\",\"notes_javascript_es6_1.新增特性.md\":\"d0c66927\",\"notes_javascript_es6_2.数据类型.md\":\"9010635b\",\"plans_2022年10月.md\":\"ac74bd87\",\"plans_2022年11月.md\":\"562b26ce\",\"plans_2022年12月.md\":\"03075b37\",\"plans_index.md\":\"bbcec714\"}")</script>
    <script type="module" async src="/assets/app.b7c8ca52.js"></script>
    
  </body>
</html>